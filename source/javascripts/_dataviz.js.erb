$( document ).ready(function() {

  app.draw = draw
  app.visualisations = {}

  function draw (obj) {
    app.dataviz = new Viz(obj)
    app.dataviz.init()
  }


  app.visualisations.Asus_Zenfone_3_Deluxe_screen0 = {
    'name': 'Asus_Zenfone_3_Deluxe_screen0',
    'prefix': 'asus',
    'dataset': <%= data.Asus_Zenfone_3_Deluxe_screen0.to_json %>,
    'floors': 1,
  }
  app.visualisations.Asus_Zenfone_3_Deluxe_screen1 = {
    'name': 'Asus_Zenfone_3_Deluxe_screen1',
    'prefix': 'asus',
    'dataset': <%= data.Asus_Zenfone_3_Deluxe_screen1.to_json %>,
    'floors': 18,
  }


  _.forEach(app.visualisations, function(value, key) {
    var name = value.name.replace(/_/g,"<br>")
    $(".visualisations").append('<div class="btn" id="' + value.name + '">' + name + '</div>')
    $("#" + value.name).on("click", function(){
      app.draw(app.visualisations[value.name])
    })
  })

  app.draw(app.visualisations.Asus_Zenfone_3_Deluxe_screen0)

});
